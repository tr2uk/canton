<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Kaizen Team Analytics Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8f9fa; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        
        /* BaÅŸlÄ±klar */
        h1 { color: #2c3e50; border-bottom: 2px solid #ddd; padding-bottom: 15px; }
        h2 { color: #34495e; margin-top: 50px; border-left: 5px solid #3498db; padding-left: 10px; }
        .sub-title { font-size: 0.9em; color: #7f8c8d; margin-top: -15px; margin-bottom: 20px; display: block;}

        /* Kart YapÄ±sÄ± */
        .dashboard-row { display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); flex: 1; min-width: 320px; }
        
        /* Ã–zel Kartlar */
        .winner-card { border: 1px solid #f1c40f; background: linear-gradient(to bottom right, #fff, #fffcf0); }
        .leader-card { border-left: 5px solid #2ecc71; }
        
        .stat-number { font-size: 2.2em; font-weight: 800; color: #2c3e50; }
        .stat-label { color: #7f8c8d; font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px; }

        /* Tablo Stili (Quality Ranking) */
        .ranking-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .ranking-table th { text-align: left; color: #7f8c8d; font-weight: 600; padding: 8px; border-bottom: 1px solid #eee; }
        .ranking-table td { padding: 10px 8px; border-bottom: 1px solid #f4f4f4; color: #2c3e50; }
        /* Ä°lk sÄ±radaki takÄ±mÄ± vurgula */
        .ranking-table tbody tr:first-child td { font-weight: bold; color: #d35400; } 
        .points-badge { background: #eef2f3; padding: 4px 10px; border-radius: 10px; font-weight: bold; }

        canvas { max-height: 350px; width: 100%; }

        /* Footer */
        .footer {
            text-align: center; margin-top: 60px; padding: 30px;
            color: #95a5a6; font-size: 0.9em; border-top: 1px solid #e1e4e8;
        }
        .footer strong { color: #2c3e50; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“Š Kaizen Team Analytics</h1>

    <h2>ğŸ“… Ocak 2026 - Kaizen SÃ¼reÃ§ Raporu</h2>
    <span class="sub-title">Genel inovasyon ve sorun bildirim istatistikleri (TÃ¼m Lokasyonlar)</span>
    
    <div class="dashboard-row">
        <div class="card leader-card">
            <h3>ğŸ† AyÄ±n Kaizen Lideri</h3>
            <p>En Ã§ok geliÅŸim fikri sunan:</p>
            <div id="topDojoName" class="stat-number">-</div>
            <div class="stat-label">Toplam BaÅŸvuru: <span id="topDojoCount">0</span></div>
        </div>

        <div class="card">
            <h3>ğŸ’¡ Fikir vs. Sorun OranÄ±</h3>
            <canvas id="kaizenTypeChart"></canvas>
        </div>
    </div>

    <div class="dashboard-row">
        <div class="card">
            <h3>ğŸ“ Lokasyon BazlÄ± Kaizen KatÄ±lÄ±mÄ±</h3>
            <canvas id="kaizenBarChart"></canvas>
        </div>
    </div>


    <h2>ğŸ¥‹ Kent Open Karate Championships</h2>
    <span class="sub-title">18 October 2025 - Results & Quality Ranking</span>
    
    <div class="dashboard-row">
        
        <div class="card">
            <h3>ğŸ¥‡ Medal Distribution by Dojo</h3>
            <canvas id="medalChart"></canvas>
        </div>

        <div class="card winner-card">
            <h3>ğŸ– Quality Ranking (Points System)</h3>
            <p style="font-size:0.8em; color:#666;">(First=3pts, Second=2pts, Third=1pt)</p>
            <table class="ranking-table" id="rankingTable">
                <thead>
                    <tr>
                        <th>Dojo</th>
                        <th>Total Points</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </div>
    </div>

    <div class="footer">
        &copy; 2026 Kaizen Team Analytics<br>
        Prepared by <strong>Assoc. Prof. Dr Cetin Karakaya</strong>
    </div>

</div>

<script>
    // ==========================================
    // 1. VERÄ° SETLERÄ°
    // ==========================================

    // A) KAÄ°ZEN VERÄ°LERÄ° (Ocak 2026 - SimÃ¼lasyon)
    // 7 Lokasyon
    const kaizenData = {
        "Hastings": 14,
        "Bexhill": 8,
        "Eastbourne": 6,
        "Ashford": 11,
        "Canterbury": 9,
        "Folkestone": 5,
        "Tunbridge Wells": 12 
    };

    // B) TURNUVA VERÄ°LERÄ° (GÃ¶rselden Birebir AlÄ±ndÄ±)
    // SÄ±ralama: Gold, Silver, Bronze, Points
    const tournamentResults = [
        { dojo: "Hastings",   gold: 15, silver: 7,  bronze: 17, points: 76 },
        { dojo: "Ashford",    gold: 14, silver: 10, bronze: 11, points: 73 }, 
        { dojo: "Eastbourne", gold: 10, silver: 14, bronze: 6,  points: 64 },
        { dojo: "Canterbury", gold: 6,  silver: 11, bronze: 1,  points: 18 }, 
        { dojo: "Folkestone", gold: 4,  silver: 7,  bronze: 6,  points: 32 }  
    ];
    
    // ==========================================
    // 2. KAÄ°ZEN LÄ°DERLÄ°K HESAPLAMASI
    // ==========================================
    function findTopDojo(data) {
        let maxVal = 0;
        let maxKey = "";
        for (const [key, val] of Object.entries(data)) {
            if (val > maxVal) {
                maxVal = val;
                maxKey = key;
            }
        }
        return { name: maxKey, count: maxVal };
    }
    const topDojo = findTopDojo(kaizenData);
    document.getElementById('topDojoName').innerText = topDojo.name;
    document.getElementById('topDojoCount').innerText = topDojo.count;


    // ==========================================
    // 3. GRAFÄ°KLER
    // ==========================================

    // --- Grafik 1: Kaizen KatÄ±lÄ±mÄ± (Bar Chart) ---
    new Chart(document.getElementById('kaizenBarChart'), {
        type: 'bar',
        data: {
            labels: Object.keys(kaizenData),
            datasets: [{
                label: 'Kaizen BaÅŸvurusu',
                data: Object.values(kaizenData),
                backgroundColor: '#3498db',
                borderRadius: 6
            }]
        },
        options: {
            responsive: true,
            plugins: { legend: { display: false } },
            scales: { y: { beginAtZero: true } }
        }
    });

    // --- Grafik 2: Fikir vs Sorun (Doughnut) ---
    new Chart(document.getElementById('kaizenTypeChart'), {
        type: 'doughnut',
        data: {
            labels: ["Yeni Fikir / Tavsiye", "Sorun / Åikayet"],
            datasets: [{
                data: [65, 35], // Ã–rnek oran
                backgroundColor: ['#2ecc71', '#e74c3c']
            }]
        },
        options: { responsive: true, maintainAspectRatio: false }
    });

    // --- Grafik 3: TURNUVA MADALYA DAÄILIMI (Stacked Bar) ---
    const tLabels = tournamentResults.map(t => t.dojo);
    const tGold = tournamentResults.map(t => t.gold);
    const tSilver = tournamentResults.map(t => t.silver);
    const tBronze = tournamentResults.map(t => t.bronze);

    new Chart(document.getElementById('medalChart'), {
        type: 'bar',
        data: {
            labels: tLabels,
            datasets: [
                { label: 'Gold (1st)', data: tGold, backgroundColor: '#FFD700' },
                { label: 'Silver (2nd)', data: tSilver, backgroundColor: '#C0C0C0' },
                { label: 'Bronze (3rd)', data: tBronze, backgroundColor: '#CD7F32' }
            ]
        },
        options: {
            responsive: true,
            scales: {
                x: { stacked: true },
                y: { stacked: true, beginAtZero: true }
            }
        }
    });

    // ==========================================
    // 4. TABLO OLUÅTURMA (Quality Ranking)
    // ==========================================
    
    // Veriyi Puana gÃ¶re sÄ±rala (BÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe)
    const sortedResults = [...tournamentResults].sort((a, b) => b.points - a.points);
    
    const tableBody = document.querySelector('#rankingTable tbody');
    sortedResults.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${item.dojo}</td>
            <td><span class="points-badge">${item.points}</span></td>
        `;
        tableBody.appendChild(row);
    });

</script>

</body>
</html>
